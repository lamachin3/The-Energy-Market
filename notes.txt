4 processes:

home:   produces and consumes energy
        energy trade policies:  1 - always share
                                2 - always sell
                                3 - share and sell if no takers
        homes use surplus from other homes before buying
        
market: current energy price, changes on buy/sell or random events
        multi-threaded -> each transaction in a thread with a limit
        
weather:    temparture variation over time

external:   random events impacting energy price
            child of market


Inter-process communication:
    home - home: message queues
    weather: shared memory stores weather condition
    external - market: signals
    
    home & market can communicate with terminal


Energy price:
    P(t)=γ P(t-1) + sum(α internal_factor(i)) + sum(β external_factor(i))
    
    2 internal & 2 external factors required
    
    internal: temperature / balance over X last transactions
    external: strikes / global health crisis /tchernobyl / URSS invasion
